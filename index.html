<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Classement des R√©seaux Sociaux (2015‚Äì2025)</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bitcount+Prop+Single+Ink:wght@100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h1 class="title">√âvolution des r√©seaux sociaux (2015‚Äì2025)</h1>

  <div class="charts-container">
    <!-- MONDE -->
    <div class="chart-card">
      <div class="chart-wrapper">
        <h2>Niveau international</h2>
        <canvas id="chartWorld"></canvas>
        <div class="legend" id="legendWorld"></div>
        <button class="reset-btn" data-chart="world">R√©initialiser</button>
      </div>
      <div class="info-bubble">
        <p>Il est facile de remarquer l‚Äô√©tonnante et soudaine croissance de TikTok sur ce graphique. En effet, suite au rachat de Musically par ByteDance pour 800 millions de dollars, ce r√©seau a connu une expansion encore jamais vue.</p>
      </div>
    </div>

    <!-- EUROPE -->
    <div class="chart-card">
      <div class="chart-wrapper">
        <h2>En Europe</h2>
        <canvas id="chartEurope"></canvas>
        <div class="legend" id="legendEurope"></div>
        <button class="reset-btn" data-chart="europe">R√©initialiser</button>
      </div>
      <div class="info-bubble">
        <p>En Europe aussi, TikTok a connu une progression spectaculaire d√®s 2019, surpassant plusieurs plateformes historiques gr√¢ce √† son format court et viral.</p>
      </div>
    </div>

    <!-- FRANCE -->
    <div class="chart-card">
      <div class="chart-wrapper">
        <h2>En France</h2>
        <canvas id="chartFrance"></canvas>
        <div class="legend" id="legendFrance"></div>
        <button class="reset-btn" data-chart="france">R√©initialiser</button>
      </div>
      <div class="info-bubble">
        <p>En France, les jeunes de 16 √† 25 ans repr√©sentent la majorit√© des utilisateurs de TikTok et Instagram, tandis que Facebook reste dominant aupr√®s des plus de 30 ans.</p>
      </div>
    </div>
  </div>

  <!-- SECTION LEURS HISTOIRES -->
  <section class="histoires-section">
    <h1>Leurs histoires</h1>
    <div class="carousel-container">
      <button id="prev" class="arrow">‚ùÆ</button>
      <div id="carousel" class="carousel"></div>
      <button id="next" class="arrow">‚ùØ</button>
    </div>

    <div class="reseau-info">
      <div class="texte">
        <h2 id="reseau-nom"></h2>
        <p id="reseau-description"></p>
      </div>
      <div class="pdg">
        <img id="reseau-image" src="" alt="PDG">
        <p id="reseau-pdg"></p>
      </div>
    </div>
  </section>

  <!-- ==== SECTION IMPACT & PR√âVENTION ==== -->
  <section class="impact-section">
    <h1>Les impacts des r√©seaux sociaux</h1>

    <div class="impact-intro">
      <p>
        Les r√©seaux sociaux occupent aujourd‚Äôhui une place immense dans nos vies.  
        Pourtant, leur usage excessif peut devenir un v√©ritable pi√®ge :  
        <strong>addiction, perte d‚Äôattention, isolement social, cyberharc√®lement</strong> ou encore <strong>trouble du sommeil</strong>.  
        Ces effets sont particuli√®rement visibles chez les plus jeunes g√©n√©rations, expos√©es tr√®s t√¥t aux √©crans.
      </p>
      <p>
        Comprendre cette √©volution aide √† mieux r√©guler notre utilisation quotidienne.  
        D√©couvre ci-dessous comment le <strong>temps d‚Äô√©cran</strong> a √©volu√© selon les tranches d‚Äô√¢ge au fil des 10 derni√®res ann√©es ‚¨áÔ∏è
      </p>
    </div>

    <div class="comparatif-container">
      <h2>Pr√©vention ‚Äì Temps d‚Äô√©cran moyen</h2>

      <p class="intro">Compare le temps d‚Äô√©cran selon la tranche d‚Äô√¢ge et observe l‚Äô√©volution des 10 derni√®res ann√©es.</p>

      <div class="select-age">
        <label for="ageSelect">Choisis une tranche d‚Äô√¢ge :</label>
        <select id="ageSelect">
          <option value="0-3 ans">0‚Äì3 ans</option>
          <option value="3-12 ans">3‚Äì12 ans</option>
          <option value="13-17 ans">13‚Äì17 ans</option>
          <option value="+18 ans">+18 ans</option>
        </select>
      </div>

      <div class="comparatif-card">
        <div class="colonne">
          <h3>Il y a 10 ans</h3>
          <p id="tempsAvant" class="temps">‚Äì</p>
        </div>
        <div class="colonne">
          <h3>Aujourd‚Äôhui</h3>
          <p id="tempsMaintenant" class="temps">‚Äì</p>
        </div>
      </div>

      <div class="difference">
        <p id="diffText"></p>
        <p id="ageMessage" style="font-size:0.95rem;color:#ccc;margin-top:0.5rem;"></p>
      </div>
    </div>
  </section>

  <!-- ==== SCRIPT PRINCIPAL ==== -->
  <script>
    const years = [2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025];
    const dataWorld = {
      "Facebook": [1.55,1.69,1.86,2.13,2.32,2.45,2.60,2.74,2.91,3.00,3.10],
      "YouTube": [1.20,1.40,1.50,1.80,2.00,2.30,2.60,2.80,2.90,3.00,3.10],
      "WhatsApp": [0.90,1.00,1.30,1.50,1.80,1.90,2.00,2.20,2.30,2.40,2.50],
      "Instagram": [0.40,0.70,1.00,1.10,1.30,1.50,1.80,2.00,2.20,2.30,2.40],
      "TikTok": [0.00,0.00,0.00,0.40,0.80,1.10,1.50,1.80,2.10,2.30,2.40],
      "X (Twitter)": [0.32,0.33,0.35,0.37,0.39,0.40,0.42,0.44,0.46,0.48,0.50]
    };
    const dataEurope = {
      "Facebook": [270,280,290,300,310,320,330,340,350,355,360],
      "YouTube": [250,260,270,280,290,300,310,320,330,340,350],
      "Instagram": [90,100,120,150,180,200,220,240,260,270,280],
      "WhatsApp": [200,220,240,260,280,300,320,340,350,355,360],
      "TikTok": [0,0,0,20,60,100,140,180,210,230,250],
      "X (Twitter)": [65,70,72,74,75,76,77,78,79,80,81]
    };
    const dataFrance = {
      "Facebook": [30,32,33,34.9,35,39.6,40,40,40,40,40],
      "Instagram": [6,10,13,16.7,17,24.9,29,31,32,33,34],
      "YouTube": [6,7,10,12,19,20,22,24,26,27,28],
      "WhatsApp": [1.5,8,12,15,16,19,22,25,27,28,30],
      "TikTok": [0,0,0,4,9,12,15,18,20,21,22],
      "X (Twitter)": [7,6,8,9,12,12,13,13,13,13,13]
    };
    const colors = {
      "Facebook": "#1877F2",
      "YouTube": "#FF0000",
      "Instagram": "#E1306C",
      "WhatsApp": "#25D366",
      "TikTok": "#000000",
      "X (Twitter)": "#1DA1F2"
    };
    const icons = {
      "Facebook": "icon/facebook.svg",
      "YouTube": "icon/youtube.svg",
      "Instagram": "icon/instagram.svg",
      "WhatsApp": "icon/whatsapp.svg",
      "TikTok": "icon/tiktok.svg",
      "X (Twitter)": "icon/x.svg"
    };

    function createChart(ctx, data, unit) {
      return new Chart(ctx, {
        type: "line",
        data: {
          labels: years,
          datasets: Object.keys(data).map(net => ({
            label: net,
            data: data[net],
            borderColor: colors[net],
            backgroundColor: colors[net],
            pointBackgroundColor: colors[net],
            pointRadius: 3,
            borderWidth: 2,
            tension: 0.35,
            fill: false
          }))
        },
        options: {
          responsive: true,
          plugins: { legend: { display: false } },
          scales: {
            x: { grid: { color: "rgba(255,255,255,0.1)" }, ticks: { color: "#fff" } },
            y: { grid: { color: "rgba(255,255,255,0.1)" }, ticks: { color: "#fff" }, title: { display: true, text: `Utilisateurs (${unit})` } }
          }
        }
      });
    }

    const chartWorld = createChart(document.getElementById("chartWorld"), dataWorld, "milliards");
    const chartEurope = createChart(document.getElementById("chartEurope"), dataEurope, "millions");
    const chartFrance = createChart(document.getElementById("chartFrance"), dataFrance, "millions");
    const charts = { world: chartWorld, europe: chartEurope, france: chartFrance };

    function createLegend(containerId, data, chart) {
      const container = document.getElementById(containerId);
      Object.keys(data).forEach(name => {
        const item = document.createElement("div");
        item.classList.add("legend-item");
        item.innerHTML = `
          <img src="${icons[name]}" alt="${name}" style="width:20px; height:20px; object-fit:contain;">
          <span style="color:${colors[name]}; font-weight:600;">${name}</span>
        `;
        item.addEventListener("click", () => highlightNetwork(name, chart));
        container.appendChild(item);
      });
    }

    function highlightNetwork(network, chart) {
      chart.data.datasets.forEach(ds => {
        const isSelected = ds.label === network;
        ds.borderColor = isSelected ? colors[ds.label] : colors[ds.label] + "55";
        ds.backgroundColor = isSelected ? colors[ds.label] : colors[ds.label] + "33";
        ds.borderWidth = isSelected ? 3 : 2;
      });
      chart.update();
    }

    document.querySelectorAll(".reset-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const target = btn.dataset.chart;
        const chart = charts[target];
        chart.data.datasets.forEach(ds => {
          ds.borderColor = colors[ds.label];
          ds.backgroundColor = colors[ds.label];
          ds.borderWidth = 2;
        });
        chart.update();
      });
    });

    createLegend("legendWorld", dataWorld, chartWorld);
    createLegend("legendEurope", dataEurope, chartEurope);
    createLegend("legendFrance", dataFrance, chartFrance);

    /* ==== SECTION LEURS HISTOIRES ==== */
    const reseaux = [
      { nom: "Facebook, du campus √† la Terre enti√®re", icon: "icon/facebook.svg", pdg: "Mark Zuckerberg", image: "pdg/facebook.jpeg", description: "Facebook a √©t√© fond√© en 2004..." },
      { nom: "Instagram, le r√®gne de l‚Äôimage", icon: "icon/instagram.svg", pdg: "Adam Mosseri", image: "pdg/instagram.webp", description: "Cr√©√© en 2010..." },
      { nom: "WhatsApp, la messagerie devenue indispensable", icon: "icon/whatsapp.svg", pdg: "Will Cathcart", image: "pdg/whatsapp.jpg", description: "Cr√©√©e en 2009..." },
      { nom: "TikTok, la r√©volution des vid√©os courtes", icon: "icon/tiktok.svg", pdg: "Shou Zi Chew", image: "pdg/tiktok.jpg", description: "N√© en 2016..." },
      { nom: "YouTube, la r√©volution de la vid√©o", icon: "icon/youtube.svg", pdg: "Neal Mohan", image: "pdg/youtube.jpeg", description: "Cr√©√© en 2005..." },
      { nom: "X, des tweets √† l‚Äôinfluence mondiale", icon: "icon/x.svg", pdg: "Elon Musk", image: "pdg/x.jpg", description: "Cr√©√© en 2006..." }
    ];

    const carousel = document.getElementById("carousel");
    const nomElem = document.getElementById("reseau-nom");
    const descElem = document.getElementById("reseau-description");
    const imageElem = document.getElementById("reseau-image");
    const pdgElem = document.getElementById("reseau-pdg");
    let index = 0;

    function renderCarousel() {
      carousel.innerHTML = "";
      reseaux.forEach((r, i) => {
        const img = document.createElement("img");
        img.src = r.icon;
        img.alt = r.nom;
        img.classList.add(i === index ? "active" : "inactive");
        carousel.appendChild(img);
        img.addEventListener("click", function () {
          index = i; renderCarousel();
        });
      });
      nomElem.textContent = reseaux[index].nom;
      descElem.textContent = reseaux[index].description;
      imageElem.src = reseaux[index].image;
      pdgElem.textContent = reseaux[index].pdg;
    }

    function next() { index = (index + 1) % reseaux.length; renderCarousel(); }
    function prev() { index = (index - 1 + reseaux.length) % reseaux.length; renderCarousel(); }

    document.getElementById("next").addEventListener("click", next);
    document.getElementById("prev").addEventListener("click", prev);

    renderCarousel();
  </script>

  <!-- ==== OBSERVER ==== -->
  <script>
  window.addEventListener("load", () => {
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.15 });

    document.querySelectorAll(".chart-card, .histoires-section, .impact-section").forEach(el => {
      if (el) observer.observe(el);
    });
  });
  </script>

  <!-- ==== SCRIPT PR√âVENTION ==== -->
  <script>
document.addEventListener("DOMContentLoaded", () => {
  // ==== Donn√©es temps d‚Äô√©cran ====
  const tempsEcran = {
    "0-3 ans": { avant: 1, maintenant: 1.5 },
    "3-12 ans": { avant: 2, maintenant: 3 },
    "13-17 ans": { avant: 3, maintenant: 5 },
    "+18 ans": { avant: 3, maintenant: 4 }
  };

  const ageSelect = document.getElementById("ageSelect");
  const tempsAvant = document.getElementById("tempsAvant");
  const tempsMaintenant = document.getElementById("tempsMaintenant");
  const diffText = document.getElementById("diffText");
  const ageMessage = document.getElementById("ageMessage");

  // ==== Fonction d'animation num√©rique ====
  function animateValue(element, start, end, duration) {
    const range = end - start;
    const startTime = performance.now();

    function update(currentTime) {
      const progress = Math.min((currentTime - startTime) / duration, 1);
      const value = start + range * progress;
      element.textContent = value.toFixed(1) + "h";
      if (progress < 1) requestAnimationFrame(update);
    }
    requestAnimationFrame(update);
  }

  // ==== Fonction principale ====
  function updateTempsEcran(age) {
    const data = tempsEcran[age];
    if (!data) return;

    const prevAvant = parseFloat(tempsAvant.textContent) || 0;
    const prevMaintenant = parseFloat(tempsMaintenant.textContent) || 0;

    animateValue(tempsAvant, prevAvant, data.avant, 800);
    animateValue(tempsMaintenant, prevMaintenant, data.maintenant, 800);

    const diff = data.maintenant - data.avant;
    const signe = diff > 0 ? "+" : "";
    diffText.textContent = `${signe}${diff.toFixed(1)}h par jour en 10 ans üìà`;
    ageMessage.textContent = `Les ${age} passent en moyenne ${data.maintenant}h par jour devant les √©crans.`;
  }

  // ==== √âv√©nement changement ====
  ageSelect.addEventListener("change", e => updateTempsEcran(e.target.value));

  // ==== Initialisation par d√©faut ====
  updateTempsEcran(ageSelect.value);
});
</script>

</body>
</html>
